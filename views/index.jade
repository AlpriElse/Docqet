extends layout

block content
    .container(style='margin-top: 50px', ng-app='schoolViewer')
        .panel.panel-default
            .panel-heading
                h1.panel-title Find Your School!
            .panel-body
                form
                    .input-group
                        input.form-control(type='text', ng-model='school')
                        .input-group-addon
                            i.fa.fa-search(aria-hidden='true')
                h5(ng-show='school') Search for {{school}}
                    
                    
        script.
            var schoolList = [];
            
            (function() {
              var app = angular.module('schoolViewer', []);
              
              var MainController = function($scope, $http) {
                var onUserComplete = function(response) {
                  $scope.user=response.data;
                  $http.get($scope.user.repos_url)
                    .then(onRepos,onError);
                };
                var onError = function(err) {
                  $scope.error = 'Could not fetch user!';
                };
                var onRepos = function(res) {
                  $scope.repos = res.data;
                };
                $scope.search = function() {
                  $http.get('https://api.github.com/users/' + $scope.username)
                  .then(onUserComplete, onError);
                }
                

                
              };
              app.controller('MainController', ['$scope','$http', MainController]);
            }());
